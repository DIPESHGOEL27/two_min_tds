# TDS Challan Processor - Environment Configuration
# Copy this file to .env and customize as needed

# ===========================================
# Application Settings
# ===========================================

# Directories (relative to app root or absolute paths)
TDS_APP_UPLOADS_DIR=./uploads
TDS_APP_OUTPUT_DIR=./output
TDS_APP_LOGS_DIR=./logs

# API Settings
TDS_APP_API_HOST=0.0.0.0
TDS_APP_API_PORT=8000

# Streamlit Settings
TDS_APP_STREAMLIT_PORT=8501

# File retention (hours) - 0 means keep forever
TDS_APP_FILE_RETENTION_HOURS=24

# Maximum upload size in MB
TDS_APP_MAX_UPLOAD_SIZE_MB=50

# Maximum batch size
TDS_APP_MAX_BATCH_SIZE=100

# Logging level (DEBUG, INFO, WARNING, ERROR)
TDS_APP_LOG_LEVEL=INFO

# Mask sensitive data in logs (true/false)
TDS_APP_MASK_SENSITIVE_DATA=true

# Enable ML fallback for difficult PDFs (requires additional setup)
TDS_APP_ENABLE_ML_FALLBACK=false

# ===========================================
# Extraction Settings
# ===========================================

# Minimum confidence threshold for individual fields
TDS_EXTRACTION_MIN_FIELD_CONFIDENCE=0.7

# Minimum row confidence - below this threshold requires manual review
TDS_EXTRACTION_MIN_ROW_CONFIDENCE=0.85

# OCR Settings
TDS_EXTRACTION_OCR_DPI=300
TDS_EXTRACTION_OCR_LANGUAGE=eng
TDS_EXTRACTION_OCR_PSM=6

# Image preprocessing
TDS_EXTRACTION_DENOISE_STRENGTH=10

# ===========================================
# Validation Settings
# ===========================================

# Sum check tolerance (in rupees)
# If |Tax_A + ... + Tax_F - Total Amount| > this value, record is flagged
TDS_VALIDATION_SUM_CHECK_TOLERANCE=1.0

# TAN validation regex pattern
TDS_VALIDATION_TAN_PATTERN=^[A-Z]{4}[0-9]{5}[A-Z]$

# Minimum CIN length
TDS_VALIDATION_CIN_MIN_LENGTH=15
